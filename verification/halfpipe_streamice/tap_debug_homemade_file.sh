rm adStack.o
rm adProfile.o
make adStack.o
make adProfile.o

gfortran  -o mitgcmuv_tap_adj -fallow-argument-mismatch -fconvert=big-endian -fimplicit-none -mcmodel=medium -O3 -funroll-loops  active_file_ad.o active_file_control.o active_file_control_slice.o active_file.o active_file_gen_ad.o active_file_gen.o active_file_gen_g.o active_file_g.o active_file_loc_ad.o active_file_loc.o active_file_loc_g.o adautodiff_whtapeio_sync.o addamp_adj.o add_prefix.o addummy_for_etan.o addummy_in_dynamics.o addummy_in_stepping.o adopen_adclose.o adread_adwrite.o adread_adwrite_i.o adzero_adj.o autodiff_check.o autodiff_findunit.o autodiff_inadmode_set_ad.o autodiff_inadmode_set.o autodiff_inadmode_set_g.o autodiff_inadmode_unset_ad.o autodiff_inadmode_unset.o autodiff_inadmode_unset_g.o autodiff_ini_model_io.o autodiff_init_varia.o autodiff_readparms.o autodiff_restore.o autodiff_store.o autodiff_whtapeio_sync.o cg2d_mad.o copy_ad_uv_outp.o copy_advar_outp.o damp_adj.o dummy_for_etan.o dummy_in_dynamics.o dummy_in_stepping.o dump_adj_xy.o dump_adj_xy_uv.o dump_adj_xyz.o dump_adj_xyz_uv.o g_dummy_for_etan.o g_dummy_in_dynamics.o g_dummy_in_stepping.o global_max_ad.o global_sum_ad.o global_sum_tile_ad.o myactivefunction_ad.o myactivefunction.o zero_adj.o cost_accumulate_mean.o cost_atlantic_heat.o cost_check.o cost_dependent_init.o cost_depth.o cost_final.o cost_final_restore.o cost_final_store.o cost_init_varia.o cost_readparms.o cost_state_final.o cost_test.o cost_tile.o cost_tracer.o cost_vector.o adctrl_bound.o ctrl_bound.o ctrl_bound_tl.o ctrl_check.o ctrl_cost_driver.o ctrl_cost_gen.o ctrl_depth_ini.o ctrl_get_gen.o ctrl_get_gen_rec.o ctrl_get_mask.o ctrl_getobcse.o ctrl_getobcsn.o ctrl_getobcss.o ctrl_getobcsw.o ctrl_init_ctrlvar.o ctrl_init.o ctrl_init_obcs_variables.o ctrl_init_rec.o ctrl_init_variables.o ctrl_init_wet.o ctrl_map_forcing.o ctrl_map_genarr.o ctrl_map_gentim2d.o ctrl_map_ini_genarr.o ctrl_map_ini_gentim2d.o ctrl_mask_set_xz.o ctrl_mask_set_yz.o ctrl_pack.o ctrl_readparms.o ctrl_set_fname.o ctrl_set_globfld_xy.o ctrl_set_globfld_xyz.o ctrl_set_globfld_xz.o ctrl_set_globfld_yz.o ctrl_set_pack_xy.o ctrl_set_pack_xyz.o ctrl_set_pack_xz.o ctrl_set_pack_yz.o ctrl_set_unpack_xy.o ctrl_set_unpack_xyz.o ctrl_set_unpack_xz.o ctrl_set_unpack_yz.o ctrl_summary.o ctrl_swapffields.o ctrl_toolbox.o ctrl_unpack.o optim_readparms.o chksum_tiled.o debug_call.o debug_cs_corner_uv.o debug_enter.o debug_fld_stats_rl.o debug_fld_stats_rs.o debug_leave.o debug_msg.o debug_stats_rl.o debug_stats_rs.o fill_in_corners_rl.o write_fullarray_rl.o write_fullarray_rs.o diag_calc_psivel.o diag_cg2d.o diagnostics_addtolist.o diagnostics_calc_phivel.o diagnostics_check.o diagnostics_clear.o diagnostics_fill.o diagnostics_fill_field.o diagnostics_fill_rs.o diagnostics_fill_state.o diagnostics_fract_fill.o diagnostics_ini_io.o diagnostics_init_early.o diagnostics_init_fixed.o diagnostics_init_varia.o diagnostics_interp_p2p.o diagnostics_interp_vert.o diagnostics_is_on.o diagnostics_list_check.o diagnostics_main_init.o diagnostics_mnc_out.o diagnostics_out.o diagnostics_readparms.o diagnostics_read_pickup.o diagnostics_scale_fill.o diagnostics_scale_fill_rs.o diagnostics_set_calc.o diagnostics_setdiag.o diagnostics_set_levels.o diagnostics_set_pointers.o diagnostics_status_error.o diagnostics_sum_levels.o diagnostics_summary.o diagnostics_switch_onoff.o diagnostics_utils.o diagnostics_write_adj.o diagnostics_write.o diagnostics_write_pickup.o diagstats_ascii_out.o diagstats_calc.o diagstats_clear.o diagstats_close_io.o diagstats_fill.o diagstats_global.o diagstats_ini_io.o diagstats_local.o diagstats_mnc_out.o diagstats_others_calc.o diagstats_output.o diagstats_setdiag.o diagstats_set_pointers.o diagstats_set_regions.o diag_vegtile_fill.o grdchk_check.o grdchk_ctrl_fname.o grdchk_getadxx.o grdchk_get_mask.o grdchk_get_obcs_mask.o grdchk_get_position.o grdchk_getxx.o grdchk_loc.o grdchk_main.o grdchk_print.o grdchk_readparms.o grdchk_setxx.o grdchk_summary.o mdsio_buffertorl.o mdsio_buffertors.o mdsio_check4file.o mdsio_facef_read.o mdsio_gl.o mdsio_gl_slice.o mdsio_pass_r4torl.o mdsio_pass_r4tors.o mdsio_pass_r8torl.o mdsio_pass_r8tors.o mdsio_rd_rec_rl.o mdsio_rd_rec_rs.o mdsio_read_field.o mdsio_read_meta.o mdsio_read_section.o mdsio_read_tape.o mdsio_readvec_loc.o mdsio_read_whalos.o mdsio_rw_field.o mdsio_rw_slice.o mdsio_seg4torl.o mdsio_seg4tors.o mdsio_seg8torl.o mdsio_seg8tors.o mdsio_segxtorx_2d.o mdsio_write_field.o mdsio_writelocal.o mdsio_write_meta.o mdsio_write_section.o mdsio_write_tape.o mdsio_writevec_loc.o mdsio_write_whalos.o mdsio_wr_metafiles.o mdsio_wr_rec_rl.o mdsio_wr_rec_rs.o mon_advcfl.o mon_advcflw2.o mon_advcflw.o mon_calc_advcfl.o mon_calc_stats_rl.o mon_calc_stats_rs.o mon_init.o monitor_ad.o monitor.o monitor_g.o mon_ke.o mon_out.o mon_printstats_rl.o mon_printstats_rs.o mon_set_iounit.o mon_set_pref.o mon_solution.o mon_stats_latbnd_rl.o mon_stats_rl.o mon_stats_rs.o mon_surfcor.o mon_vort3.o mon_writestats_rl.o mon_writestats_rs.o get_write_global_fld.o read_fld_xy_rl.o read_fld_xy_rs.o read_fld_xyz_rl.o read_fld_xyz_rs.o read_glvec_rl.o read_glvec_rs.o read_mflds.o read_rec.o rw_get_suffix.o set_write_global_fld.o write_fld_3d_rl.o write_fld_3d_rs.o write_fld_s3d_rl.o write_fld_s3d_rs.o write_fld_xy_rl.o write_fld_xy_rs.o write_fld_xyz_rl.o write_fld_xyz_rs.o write_glvec_rl.o write_glvec_rs.o write_local_rl.o write_local_rs.o write_rec.o adstreamice_cg_solve.o adstreamice_invert_surf_forthick.o eta_gl_prime_streamice.o eta_gl_streamice.o eta_gl_streamice_prime.o phi_gl_streamice.o slope_limiter.o streamice_advect_2dtracer.o streamice_advect_thickness.o streamice_adv_flux_fl_x.o streamice_adv_flux_fl_y.o streamice_adv_front.o streamice_apply_flux_ctrl.o streamice_arg_petsc_mod.o streamice_bstress_exponent.o streamice_cg_functions.o streamice_cg_solve.o streamice_cg_solve_matfree.o streamice_cg_solve_petsc.o streamice_cg_wrapper.o streamice_check.o streamice_cost_accum.o streamice_cost_final.o streamice_cost_reg_accum.o streamice_cost_surf_accum.o streamice_cost_vel_accum.o streamice_diagnostics_state.o streamice_driving_stress.o streamice_driving_stress_fd.o streamice_driving_stress_ppm.o streamice_dump_ad.o streamice_dump.o streamice_fields_load.o streamice_finalize_petsc.o streamice_forced_buttress.o streamice_get_fp_err_oad.o streamice_get_vel_fp_err.o streamice_get_vel_resid_err.o streamice_get_vel_resid_err_oad.o streamice_init_diagnostics.o streamice_init_fixed.o streamice_initialise_petsc.o streamice_init_phi.o streamice_init_varia.o streamice_invert_surf_forthick.o streamice_petscmatdestroy.o streamice_petsc_numerate.o streamice_readparms.o streamice_read_pickup.o streamice_taub.o streamice_timestep.o streamice_tridiag_solve.o streamice_upd_ffrac_uncoupled.o streamice_velmask_upd.o streamice_vel_phi.o streamice_vel_phistage.o streamice_vel_solve.o streamice_vel_solve_openad.o streamice_visc_beta.o streamice_visc_beta_hybrid.o streamice_write_pickup.o active_read_tap.o active_write_tap.o dummy_tap.o stubs_tap_adj.o stubs_tap_tlm.o all_proc_die.o bar2.o bar_check.o barrier.o check_threads.o comm_stats.o cumulsum_z_tile.o different_multiple.o diff_phase_multiple.o eeboot.o eeboot_minimal.o eedata_example.o eedie.o eeintro_msg.o eeset_parms.o eewrite_eeenv.o exch0_r4.o exch0_r8.o exch0_rl.o exch0_rs.o exch1_bg_r4_cube.o exch1_bg_r8_cube.o exch1_bg_rl_cube.o exch1_bg_rs_cube.o exch1_r4_cube.o exch1_r4.o exch1_r8_cube.o exch1_r8.o exch1_rl_ad.o exch1_rl_cube_ad.o exch1_rl_cube.o exch1_rl.o exch1_rs_ad.o exch1_rs_cube_ad.o exch1_rs_cube.o exch1_rs.o exch1_uv_r4_cube.o exch1_uv_r8_cube.o exch1_uv_rl_cube.o exch1_uv_rs_cube.o exch1_z_r4_cube.o exch1_z_r8_cube.o exch1_z_rl_cube.o exch1_z_rs_cube.o exch_3d_r4.o exch_3d_r8.o exch_3d_rl.o exch_3d_rs.o exch_cycle_ebl.o exch_init.o exch_r4_recv_get_x.o exch_r4_recv_get_y.o exch_r4_send_put_x.o exch_r4_send_put_y.o exch_r8_recv_get_x.o exch_r8_recv_get_y.o exch_r8_send_put_x.o exch_r8_send_put_y.o exch_rl_recv_get_x.o exch_rl_recv_get_y.o exch_rl_send_put_x.o exch_rl_send_put_y.o exch_rs_recv_get_x.o exch_rs_recv_get_y.o exch_rs_send_put_x.o exch_rs_send_put_y.o exch_s3d_r4.o exch_s3d_r8.o exch_s3d_rl.o exch_s3d_rs.o exch_sm_3d_r4.o exch_sm_3d_r8.o exch_sm_3d_rl.o exch_sm_3d_rs.o exch_tap_b.o exch_tap_d.o exch_uv_3d_r4.o exch_uv_3d_r8.o exch_uv_3d_rl.o exch_uv_3d_rs.o exch_uv_agrid_3d_r4.o exch_uv_agrid_3d_r8.o exch_uv_agrid_3d_rl.o exch_uv_agrid_3d_rs.o exch_uv_bgrid_3d_r4.o exch_uv_bgrid_3d_r8.o exch_uv_bgrid_3d_rl.o exch_uv_bgrid_3d_rs.o exch_uv_dgrid_3d_r4.o exch_uv_dgrid_3d_r8.o exch_uv_dgrid_3d_rl.o exch_uv_dgrid_3d_rs.o exch_uv_xy_r4.o exch_uv_xy_r8.o exch_uv_xy_rl.o exch_uv_xy_rs.o exch_uv_xyz_r4.o exch_uv_xyz_r8.o exch_uv_xyz_rl.o exch_uv_xyz_rs.o exch_xy_r4.o exch_xy_r8.o exch_xy_rl.o exch_xy_rs.o exch_xyz_r4.o exch_xyz_r8.o exch_xyz_rl.o exch_xyz_rs.o exch_z_3d_r4.o exch_z_3d_r8.o exch_z_3d_rl.o exch_z_3d_rs.o fill_cs_corner_ag_rl.o fill_cs_corner_tr_rl.o fill_cs_corner_uv_rl.o fill_cs_corner_uv_rs.o fool_the_compiler.o gather_2d_r4.o gather_2d_r8.o gather_2d_wh_r4.o gather_2d_wh_r8.o gather_vec_r4.o gather_vec_r8.o gather_xz.o gather_yz.o get_periodic_interval.o global_max.o global_sum.o global_sum_singlecpu.o global_sum_tile.o global_vec_sum.o gsum.o ini_communication_patterns.o ini_procs.o ini_threading_environment.o lef_zero.o main.o master_cpu_io.o master_cpu_thread.o mds_byteswapi4.o mds_byteswapr4.o mds_byteswapr8.o mdsfindunit.o mds_flush.o mds_reclen.o memsync.o nml_change_syntax.o nml_set_terminator.o open_copy_data_file.o print.o reset_halo.o scatter_2d_r4.o scatter_2d_r8.o scatter_2d_wh_r4.o scatter_2d_wh_r8.o scatter_vec_r4.o scatter_vec_r8.o scatter_xz.o scatter_yz.o stop_if_error.o timers.o utils.o write_utils.o adams_bashforth2.o adams_bashforth3.o add_walls2masks.o apply_forcing.o calc_3d_diffusivity.o calc_adv_flow.o calc_div_ghat.o calc_eddy_stress.o calc_grad_phi_fv.o calc_grad_phi_hyd.o calc_grad_phi_surf.o calc_grid_angles.o calc_gw.o calc_ivdc.o calc_oce_mxlayer.o calc_phi_hyd.o calc_r_star.o calc_surf_dr.o calc_viscosity.o calc_wsurf_tr.o cg2d_ex0.o cg2d.o cg2d_nsa.o cg2d_sr.o cg3d_ex0.o cg3d.o check_pickup.o config_check.o config_summary.o convective_adjustment.o convective_adjustment_ini.o convectively_mixtracer.o convective_weights.o correction_step.o cycle_ab_tracer.o cycle_tracer.o diags_oceanic_surf_flux.o diags_phi_hyd.o diags_phi_rlow.o diags_rho.o diags_sound_speed.o do_atmospheric_phys.o do_fields_blocking_exchanges.o do_oceanic_phys.o do_stagger_fields_exchanges.o do_statevars_diags.o do_statevars_tave.o do_the_model_io.o do_write_pickup.o dynamics.o external_fields_load.o external_forcing.o external_forcing_surf.o find_alpha.o find_hyd_press_1d.o find_rho.o forcing_surf_relax.o forward_step.o freesurf_rescale_g.o freeze_surface.o grad_sigma.o gsw_teos10.o impldiff.o ini_cartesian_grid.o ini_cg2d.o ini_cg3d.o ini_cori.o ini_curvilinear_grid.o ini_cylinder_grid.o ini_depths.o ini_dynvars.o ini_eos.o ini_ffields.o ini_fields.o ini_forcing.o ini_global_domain.o ini_grid.o ini_linear_phisurf.o ini_local_grid.o ini_masks_etc.o ini_mixing.o ini_mnc_vars.o ini_model_io.o ini_nh_fields.o ini_nh_vars.o ini_nlfs_vars.o ini_parms.o ini_p_ground.o ini_pressure.o ini_psurf.o ini_salt.o ini_sigma_hfac.o ini_spherical_polar_grid.o ini_theta.o initialise_fixed.o initialise_varia.o ini_vel.o ini_vertical_grid.o integrate_for_w.o integr_continuity.o load_fields_driver.o load_grid_spacing.o load_ref_files.o main_do_loop.o momentum_correction_step.o packages_boot.o packages_check.o packages_error_msg.o packages_init_fixed.o packages_init_variables.o packages_print_msg.o packages_readparms.o packages_unused_msg.o packages_write_pickup.o plot_field.o port_rand.o post_cg3d.o pre_cg3d.o pressure_for_eos.o read_pickup.o remove_mean.o reset_nlfs_vars.o rotate_spherical_polar_grid.o rotate_uv2en.o salt_integrate.o seawater.o set_defaults.o set_grid_factors.o set_parms.o set_ref_state.o solve_for_pressure.o solve_pentadiagonal.o solve_tridiagonal.o solve_uv_tridiago.o state_summary.o swfrac.o taueddy_init_varia.o taueddy_tendency_apply.o temp_integrate.o the_main_loop.o the_model_main.o thermodynamics.o timestep.o timestep_tracer.o timestep_wvel.o tracers_correction_step.o tracers_iigw_correction.o turnoff_model_io.o update_cg2d.o update_etah.o update_etaws.o update_masks_etc.o update_r_star.o update_sigma.o update_surf_dr.o write_grid.o write_pickup.o write_state.o gsl_ieee_env.o ptwrapper.o setdir.o setrlstk.o sigreg.o tim.o timer_stats.o  autodiff_init_varia_b.f autodiff_store_b.f autodiff_restore_b.f cost_accumulate_mean_b.f cost_final_b.f cost_init_varia_b.f cost_tile_b.f cost_test_b.f cost_tracer_b.f cost_atlantic_heat_b.f cost_depth_b.f cost_vector_b.f cost_state_final_b.f ctrl_cost_driver_b.f ctrl_cost_gen_b.f ctrl_depth_ini_b.f ctrl_get_gen_b.f ctrl_get_gen_rec_b.f ctrl_get_mask_b.f ctrl_init_rec_b.f ctrl_init_variables_b.f ctrl_map_ini_genarr_b.f ctrl_map_ini_gentim2d_b.f ctrl_map_forcing_b.f ctrl_map_genarr_b.f ctrl_map_gentim2d_b.f ctrl_getobcse_b.f ctrl_getobcsn_b.f ctrl_getobcss_b.f ctrl_getobcsw_b.f ctrl_init_obcs_variables_b.f ctrl_swapffields_b.f ctrl_toolbox_b.f diagnostics_is_on_b.f read_fld_xyz_rs_b.f read_fld_xyz_rl_b.f read_fld_xy_rs_b.f read_fld_xy_rl_b.f read_rec_b.f slope_limiter_b.f streamice_adv_front_b.f streamice_advect_thickness_b.f streamice_bstress_exponent_b.f streamice_cg_functions_b.f streamice_driving_stress_fd_b.f streamice_driving_stress_b.f streamice_driving_stress_ppm_b.f streamice_init_varia_b.f streamice_timestep_b.f streamice_upd_ffrac_uncoupled_b.f streamice_vel_solve_b.f streamice_velmask_upd_b.f streamice_visc_beta_b.f streamice_visc_beta_hybrid_b.f streamice_cg_wrapper_b.f streamice_cg_solve_b.f streamice_cg_solve_matfree_b.f streamice_taub_b.f streamice_cost_accum_b.f streamice_cost_reg_accum_b.f streamice_cost_surf_accum_b.f streamice_cost_vel_accum_b.f streamice_cost_final_b.f eta_gl_streamice_b.f eta_gl_prime_streamice_b.f phi_gl_streamice_b.f streamice_invert_surf_forthick_b.f streamice_adv_flux_fl_x_b.f streamice_adv_flux_fl_y_b.f streamice_advect_2dtracer_b.f streamice_forced_buttress_b.f streamice_read_pickup_b.f streamice_get_vel_resid_err_b.f streamice_get_vel_fp_err_b.f streamice_fields_load_b.f streamice_vel_solve_openad_b.f streamice_vel_phistage_b.f streamice_vel_phi_b.f streamice_get_fp_err_oad_b.f streamice_get_vel_resid_err_oad_b.f different_multiple_b.f fill_cs_corner_ag_rl_b.f fill_cs_corner_tr_rl_b.f fill_cs_corner_uv_rs_b.f fill_cs_corner_uv_rl_b.f get_periodic_interval_b.f lef_zero_b.f exch_sm_3d_rl_b.f exch_3d_rs_b.f exch_3d_rl_b.f exch_xy_rl_b.f exch_xy_rs_b.f exch_xyz_rl_b.f exch_xyz_rs_b.f exch_uv_3d_rs_b.f exch_uv_3d_rl_b.f exch_uv_xy_rs_b.f exch_uv_xy_rl_b.f exch_uv_xyz_rs_b.f exch_uv_xyz_rl_b.f exch_uv_agrid_3d_rs_b.f exch_uv_agrid_3d_rl_b.f exch_uv_dgrid_3d_rs_b.f exch_uv_dgrid_3d_rl_b.f adams_bashforth2_b.f adams_bashforth3_b.f apply_forcing_b.f calc_3d_diffusivity_b.f calc_adv_flow_b.f calc_div_ghat_b.f calc_grad_phi_fv_b.f calc_grad_phi_hyd_b.f calc_grad_phi_surf_b.f calc_ivdc_b.f calc_phi_hyd_b.f calc_r_star_b.f calc_surf_dr_b.f calc_viscosity_b.f calc_wsurf_tr_b.f cg2d_nsa_b.f convective_adjustment_b.f convective_adjustment_ini_b.f convective_weights_b.f convectively_mixtracer_b.f correction_step_b.f cycle_ab_tracer_b.f cycle_tracer_b.f diags_phi_hyd_b.f diags_phi_rlow_b.f diags_rho_b.f diags_sound_speed_b.f do_atmospheric_phys_b.f do_fields_blocking_exchanges_b.f do_oceanic_phys_b.f do_stagger_fields_exchanges_b.f dynamics_b.f external_fields_load_b.f external_forcing_surf_b.f forcing_surf_relax_b.f find_alpha_b.f find_rho_b.f forward_step_b.f freesurf_rescale_g_b.f freeze_surface_b.f grad_sigma_b.f impldiff_b.f ini_cg2d_b.f ini_depths_b.f ini_ffields_b.f ini_fields_b.f ini_forcing_b.f ini_mixing_b.f ini_nh_fields_b.f ini_nlfs_vars_b.f ini_p_ground_b.f ini_pressure_b.f ini_psurf_b.f ini_salt_b.f ini_theta_b.f ini_dynvars_b.f ini_vel_b.f initialise_varia_b.f integrate_for_w_b.f integr_continuity_b.f load_fields_driver_b.f load_grid_spacing_b.f main_do_loop_b.f momentum_correction_step_b.f packages_init_variables_b.f pressure_for_eos_b.f read_pickup_b.f remove_mean_b.f reset_nlfs_vars_b.f rotate_uv2en_b.f salt_integrate_b.f temp_integrate_b.f seawater_b.f solve_for_pressure_b.f state_summary_b.f solve_pentadiagonal_b.f solve_tridiagonal_b.f taueddy_init_varia_b.f taueddy_tendency_apply_b.f timestep_b.f the_main_loop_b.f thermodynamics_b.f timestep_tracer_b.f tracers_correction_step_b.f update_cg2d_b.f update_etah_b.f update_etaws_b.f update_masks_etc_b.f update_r_star_b.f update_sigma_b.f update_surf_dr_b.f swfrac_b.f adStack.o adBinomial.o -lnetcdff
